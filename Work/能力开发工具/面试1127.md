# 前端1 徐成祥
表达能力在线，前端技术底层机制能讲出来一些

### 第一部分：核心项目深度拷问（重点）

#### 项目一：上海观安 - 企业级内部运营与安全管理平台
**关键词**：WebWorker、WebSocket/SSE、BPMN、前端安全

**Q1. 关于复杂计算与 WebWorker**
*   **提问**：简历提到利用 WebWorker 处理前端密集型计算。请具体讲讲在这个项目中，哪些场景用到了 WebWorker？你是如何设计主线程与 Worker 线程通信机制的？
*   **候选人可能回答**：用于处理大文件的切片计算（Hash计算）或者大量表格数据的过滤/排序。
*   **追问（深度）**：
    1.  如果 Worker 传输的数据量非常大（比如几百MB的JSON），`postMessage` 会有性能损耗吗？（考察 `Transferable Objects` / `SharedArrayBuffer` 知识）。
    2.  Worker 脚本加载失败或者执行报错，主线程如何监控和降级处理？

**Q2. 关于实时通信（SSE vs WebSocket）**
*   **提问**：我看你同时使用了 WebSocket 和 SSE（Server-Sent Events）。请问在你的业务场景中，为什么同时选择了这两种技术？它们分别用在什么模块？
*   **候选人可能回答**：WebSocket用于双向通信（如聊天、控制），SSE用于单向即时通知（如告警）。
*   **追问（深度）**：
    1.  SSE 连接断开了会自动重连吗？你是怎么处理断线重连和消息丢失的？
    2.  如果浏览器端有几十个组件都需要实时数据，你是每个组件都建立连接，还是做了全局的连接管理？（考察单例模式/发布订阅模式）。

**Q3. 关于 BPMN 工作流**
*   **提问**：项目中引入了 BPMN 工作流引擎，你是直接使用 `bpmn-js` 原生库还是做了二次封装？遇到过最难的自定义节点或样式修改是什么？
*   **追问（深度）**：前端生成的 XML 流程图数据，后端是如何解析并执行的？前后端的数据交互协议是如何定义的？

---

#### 项目二：上海韵达 - 供应链 SaaS 平台 & 天机小程序
**关键词**：Webpack Federation（微前端）、ECharts 性能优化、10s优化至2s

**Q1. 关于微前端架构（Module Federation）**
*   **提问**：你在韵达项目中主导了 Webpack Module Federation 的接入。当时为什么要选择这个方案而不是 `qiankun` 或 `iframe`？
*   **候选人可能回答**：为了解决依赖共享问题，提升加载速度，去中心化。
*   **追问（深度）**：
    1.  模块联邦在处理“公共依赖版本冲突”时（比如子应用A用Vue2，子应用B用Vue3，或者不同版本的 lodash），你是怎么配置的？（考察 `shared` 配置及单例/多例模式）。
    2.  在微应用之间，CSS 样式隔离是如何保证的？

**Q2. 关于 ECharts 大数据量渲染优化（10s -> 2s）**
*   **提问**：这是一个非常亮眼的成果。请具体拆解一下，这 8 秒的时间主要是在哪一步节省下来的？是网络传输、数据处理还是 Canvas 渲染？
*   **候选人可能回答**：数据聚合、懒加载、减少 DOM 操作。
*   **追问（深度）**：
    1.  简历提到“级联选择器数据量大”，你是用了虚拟列表（Virtual Scroll）还是其他方案？
    2.  对于 ECharts 渲染上千个仓库导致的卡顿，你开启了 `large` 模式吗？还是使用了 `dataZoom` 进行采样？
    3.  如果是小程序端，Canvas 上下文的获取和 Web 端有何不同？遇到过真机内存溢出（OOM）的问题吗？

**Q3. CAS 单点登录**
*   **提问**：你主导了 CAS 单点登录的接入。请简述一下前端在 SSO 流程中主要负责什么？Ticket 是如何流转的？
*   **追问**：如果 Token 过期了，前端是如何做到无感刷新（Silent Refresh）或者自动跳转登录页的？

---

#### 项目三：上海望海 - GIS 与数字孪生平台
**关键词**：Cesium 3D、海康监控集成

**Q1. Cesium 3D 开发**
*   **提问**：在使用 Cesium 加载 3D 模型或大规模 GIS 数据时，有没有遇到过掉帧或卡顿的问题？你是如何进行性能优化的？
*   **候选人可能回答**：使用了 3D Tiles，或者控制显隐距离。
*   **追问（深度）**：
    1.  Cesium 的实体（Entity）和图元（Primitive）在使用场景上有什么区别？（考察对 Cesium 底层渲染机制的理解，Primitive 性能更高）。
    2.  如何处理大规模点位（如数万个点）的聚合渲染？

**Q2. 视频流集成**
*   **提问**：项目中提到集成了海康监控和雷达数据。海康的视频流通常是 RTSP 格式，Web 端无法直接播放，你是怎么处理转码和播放的？
*   **候选人可能回答**：后端转码成 FLV/HLS，前端用 flv.js 或 hls.js。
*   **追问**：视频流会有延迟问题，你们的延迟控制在多少？有没有做过追帧处理？

---

### 第二部分：基础与原理（穿插在项目提问中）

**Q1. Vue2 与 Vue3 的迁移**
*   **背景**：候选人经历涵盖了 Vue2 和 Vue3。
*   **提问**：你最近的项目用了 Vue3 + TS。相比 Vue2，Vue3 的响应式原理从 `Object.defineProperty` 换成了 `Proxy`，这带来了哪些具体的优势？
*   **追问**：在 Vue3 中使用 `Composition API` 时，如何复用逻辑？对比 Vue2 的 Mixin 有什么好处？

**Q2. 前端安全**
*   **背景**：候选人在安全公司工作。
*   **提问**：简历提到熟悉 XSS/CSRF。如果你正在开发一个富文本编辑器功能，你会如何防御存储型 XSS 攻击？
*   **追问**：除了 CSP（内容安全策略），在前端代码层面通常会引入哪些库来做 HTML Sanitization（清洗）？

**Q3. 混合开发（Hybrid App）**
*   **背景**：早期在上海信行做过 WebView 优化。
*   **提问**：你提到封装了 JSBridge 统一通信。请问 JS 调用 Native 和 Native 调用 JS 的底层原理分别是什么？（拦截 URL Schema / 注入全局对象）。

---

### 第三部分：综合素质与软技能

**Q1. 架构设计**
*   **提问**：我看你在韵达和观安都负责过前端架构设计。在搭建一个新项目时，除了技术栈选型，你通常还会配置哪些工程化标准？（期待回答：ESLint/Prettier、Git Hooks、CI/CD 流程、Mock 方案、公共组件库文档等）。

**Q2. 学习能力**
*   **提问**：你提到自学了 NestJS 和 Python。在实际工作中，这些后端知识如何辅助了你的前端开发？有没有具体的案例？（例如：自己写 BFF 层接口，或者写 Python 脚本处理数据）。

---

### 面试官提示（简历疑点/注意事项）
1.  **时间线确认**：第一份工作（上海观安）的时间写的是 `2024.1 - 2025.10`。现在是 2024/2025 年交接之际（或者是2025年），如果是 **2025.10**，这可能是笔误（想写至今？）或者合同结束时间。建议开场闲聊时确认一下目前是否在职。
2.  **全栈深度**：候选人提到精通很多东西（Vue、React、Python、Cesium、Docker）。全栈往往意味着“博而不精”，建议通过上面的深度追问（尤其是原理层面）来测试他的知识边界。
3.  **产出量化**：简历中多次出现具体数字（效率提升80%，30%，10s变2s）。重点考察这些数字是怎么算出来的，是感性预估还是有监控数据支持。

# 前端2 高诗琼
### 候选人画像分析
*   **经验年限**：4年（2021年毕业），属于中坚力量（Mid-Senior Level）。
*   **技术栈**：双栈开发（Vue2/3 + React），且都有实际的大型项目落地经验，这点比较难得。
*   **核心亮点**：
    1.  **AI 落地经验**：简历中最新的项目涉及大模型流式响应（Streaming）和上下文管理，这是当前的热门加分项。
    2.  **图形交互能力**：在医疗影像项目中深度使用了 Canvas/Fabric.js，具备处理复杂图形编辑（标注、缩放、坐标转换）的能力。
    3.  **高性能场景**：金融交易系统涉及 WebSocket 高频数据和虚拟列表优化。
*   **面试侧重点**：建议重点考察**复杂场景下的技术实现细节**（图形算法、流式数据处理）以及**架构选型思考**（为什么在这个项目用 Mobx 而那个用 Redux）。

---

### 第一部分：核心项目深度拷问（按简历倒序）

#### 项目一：智谱 AI 研发报告生成系统（React + AI SDK + Mobx）
**关键词**：流式响应、打字机效果、状态管理

**Q1. AI 流式响应（Streaming）的处理**
*   **提问**：简历提到你封装了 `useStreamingAI` Hook 来处理流式响应。请详细讲讲前端是如何接收并解析大模型的 SSE（Server-Sent Events）流数据的？你是如何处理“打字机”效果的平滑渲染的？
*   **候选人可能回答**：使用 fetch 的 reader 或者专门的 AI SDK 接收流，通过 Mobx 更新状态。
*   **追问（深度）**：
    1.  如果流式数据返回速度极快（Backpressure），导致 React 渲染过于频繁引起页面卡顿，你做了什么优化？（期待回答：请求帧 requestAnimationFrame 或 节流 Throttling）。
    2.  Markdown 格式的解析是实时的吗？如果流数据截断在 Markdown 语法的中间（比如 `**粗` 还没传 `体**`），渲染组件会怎么处理？

**Q2. 状态管理选型（Mobx vs Redux）**
*   **提问**：我注意到你在“券商交易系统”用了 Redux Toolkit，而在“AI 报告系统”用了 Mobx。请问在这两个不同类型的项目中，你是基于什么考虑选择了不同的状态管理库？
*   **追问**：
    1.  Mobx 的响应式机制（Observable）在处理 AI 流式高频数据更新时，相比 Redux 有什么性能优势？
    2.  在使用 Mobx 时，你是如何组织 Store 的？有没有遇到过 Store 之间循环依赖的问题？

---

#### 项目二：券商场外衍生品交易系统（React + Redux Toolkit）
**关键词**：金融业务、WebSocket、虚拟滚动

**Q1. 大数据量表格性能优化**
*   **提问**：简历提到你针对大数据量表格进行了“虚拟滚动”优化。这是自己实现的逻辑还是使用了社区库（如 `react-window`）？如果是自己实现的，核心原理是什么？
*   **候选人可能回答**：计算可视区域，只渲染可见 DOM，利用 padding 撑开滚动条。
*   **追问（深度）**：
    1.  如果表格行的高度是**动态**的（例如某些行内容换行了），虚拟滚动该怎么计算偏移量？
    2.  在快速滚动时，如何处理白屏现象？

**Q2. 高频 WebSocket 数据处理**
*   **提问**：交易系统的持仓数据变化非常快。当 WebSocket 推送频率过高（例如每秒几十次）时，前端直接渲染会导致 CPU 飙升。你是如何进行数据节流或合并渲染的？
*   **追问**：
    1.  关于 WebSocket 的断线重连机制，你们是怎样设计的？（指数退避算法等）。
    2.  如果网络波动导致消息乱序（比如先发的报价后到），前端如何保证数据的正确性？（Sequence ID 校验）。

---

#### 项目三：口腔医疗影像标注与诊断系统（Vue + Fabric.js）
**关键词**：Canvas、坐标转换、图形交互

**Q1. Canvas 坐标系与交互**
*   **提问**：这个项目涉及对 X 光片进行“标注、测量、缩放”。请问在缩放（Zoom）和拖拽（Pan）操作后，如何保证原本画在图片上的标注框（矩形/多边形）依然精准地贴合在病灶位置？
*   **候选人可能回答**：使用 Fabric.js 的内置变换，或者通过矩阵变换计算坐标。
*   **追问（深度）**：
    1.  **坐标转换**：后端通常存储的是基于原图分辨率的绝对坐标，而前端 Canvas 大小是响应式的。你是如何做这两者之间的坐标映射的？
    2.  **撤销/重做**：简历提到实现了“历史回溯”。Fabric.js 的 `loadFromJSON` 会导致全量重绘，如果在图片很大、标注很多的情况下，如何优化撤销操作的性能？（栈管理、差异化更新）。

**Q2. 大图片加载优化**
*   **提问**：医疗影像（X光片）的分辨率通常很高。简历提到你“监听视口变化实现按需加载”，具体是指切片加载（Tile Image）还是通过 Canvas 的 `drawImage` 裁剪绘制？
*   **追问**：在低端设备上，Canvas 占用内存过大容易导致 Crash，你有做过内存方面的监控或优化吗？

---

### 第二部分：Vue/React 对比与架构（考察广度与深度）

**Q1. 框架对比**
*   **背景**：候选人精通 Vue2/3 和 React。
*   **提问**：你既做过 Vue3 项目（医疗系统），也做过 React 18 项目（AI 系统）。从你的实际开发体验来看，Vue3 的 Composition API 和 React Hooks 在逻辑复用（Hooks 封装）上有什么本质区别？
*   **追问**：React 的 `useEffect` 依赖项管理经常让人头疼（闭包陷阱），Vue3 的 `watchEffect` 是怎么避免这个问题的？

**Q2. 复杂交互实现（拖拽）**
*   **背景**：在“智能化就诊流程”项目中用了 `vue.draggable`。
*   **提问**：在处理树形结构的拖拽排序时，前端只是改变了 UI 展示，最后你是如何把这个变更同步给后端的？是传整个树的 JSON，还是只传变更节点的 ID 和新的 Parent ID？
*   **追问**：如果这是个协作系统，两个人同时拖拽了同一个节点，如何处理冲突？

---

### 第三部分：软技能与工程化

**Q1. 0到1的项目搭建**
*   **提问**：你经历过多个从 0 到 1 的项目。在项目初期进行技术选型时，除了团队熟悉度，你还会考虑哪些因素？（例如：生态库丰富度、TypeScript 支持、构建速度 Vite/Webpack 等）。
*   **追问**：在“龙江算力平台”中，你封装了统一的 API 网关调用模块。你是如何处理 Token 刷新（Refresh Token）时的并发请求问题的？（即当 Token 过期时，多个并发接口如何挂起并等待 Token 刷新后重试）。

**Q2. 业务理解**
*   **提问**：你做过医疗和金融两个门槛较高的行业。你是如何快速理解“期权定价”或“牙位关系”这些复杂业务概念的？在需求评审时，如果产品经理提出的交互方案在 Canvas 上实现成本极高，你会怎么沟通？

---

### 面试官评分表参考（建议）

| 维度 | 考察点 | 建议评分标准 |
| :--- | :--- | :--- |
| **技术深度** | AI流式处理、Canvas图形算法、WebSocket优化 | 🌟🌟🌟🌟🌟 (重点考察 Canvas 和 AI 部分的真实性) |
| **架构能力** | 状态管理选型、组件复用设计、工程化配置 | 🌟🌟🌟🌟 |
| **业务理解** | 能否将业务难点转化为技术方案 | 🌟🌟🌟🌟 |
| **综合素质** | 沟通逻辑、Vue/React双栈迁移能力 | 🌟🌟🌟 |

**总结**：这是一位简历非常优秀的候选人，技术栈紧跟潮流（AI、React 18）且有扎实的图形学（Canvas）落地经验。面试重点在于**验证她是否独立解决了这些难点**，特别是 Canvas 坐标转换和 AI 流式渲染的细节。如果回答流畅，是高级前端工程师的有力人选。