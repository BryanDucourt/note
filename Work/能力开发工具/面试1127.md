# 前端1 徐成祥
### 第一部分：核心项目深度拷问（重点）

#### 项目一：上海观安 - 企业级内部运营与安全管理平台
**关键词**：WebWorker、WebSocket/SSE、BPMN、前端安全

**Q1. 关于复杂计算与 WebWorker**
*   **提问**：简历提到利用 WebWorker 处理前端密集型计算。请具体讲讲在这个项目中，哪些场景用到了 WebWorker？你是如何设计主线程与 Worker 线程通信机制的？
*   **候选人可能回答**：用于处理大文件的切片计算（Hash计算）或者大量表格数据的过滤/排序。
*   **追问（深度）**：
    1.  如果 Worker 传输的数据量非常大（比如几百MB的JSON），`postMessage` 会有性能损耗吗？（考察 `Transferable Objects` / `SharedArrayBuffer` 知识）。
    2.  Worker 脚本加载失败或者执行报错，主线程如何监控和降级处理？

**Q2. 关于实时通信（SSE vs WebSocket）**
*   **提问**：我看你同时使用了 WebSocket 和 SSE（Server-Sent Events）。请问在你的业务场景中，为什么同时选择了这两种技术？它们分别用在什么模块？
*   **候选人可能回答**：WebSocket用于双向通信（如聊天、控制），SSE用于单向即时通知（如告警）。
*   **追问（深度）**：
    1.  SSE 连接断开了会自动重连吗？你是怎么处理断线重连和消息丢失的？
    2.  如果浏览器端有几十个组件都需要实时数据，你是每个组件都建立连接，还是做了全局的连接管理？（考察单例模式/发布订阅模式）。

**Q3. 关于 BPMN 工作流**
*   **提问**：项目中引入了 BPMN 工作流引擎，你是直接使用 `bpmn-js` 原生库还是做了二次封装？遇到过最难的自定义节点或样式修改是什么？
*   **追问（深度）**：前端生成的 XML 流程图数据，后端是如何解析并执行的？前后端的数据交互协议是如何定义的？

---

#### 项目二：上海韵达 - 供应链 SaaS 平台 & 天机小程序
**关键词**：Webpack Federation（微前端）、ECharts 性能优化、10s优化至2s

**Q1. 关于微前端架构（Module Federation）**
*   **提问**：你在韵达项目中主导了 Webpack Module Federation 的接入。当时为什么要选择这个方案而不是 `qiankun` 或 `iframe`？
*   **候选人可能回答**：为了解决依赖共享问题，提升加载速度，去中心化。
*   **追问（深度）**：
    1.  模块联邦在处理“公共依赖版本冲突”时（比如子应用A用Vue2，子应用B用Vue3，或者不同版本的 lodash），你是怎么配置的？（考察 `shared` 配置及单例/多例模式）。
    2.  在微应用之间，CSS 样式隔离是如何保证的？

**Q2. 关于 ECharts 大数据量渲染优化（10s -> 2s）**
*   **提问**：这是一个非常亮眼的成果。请具体拆解一下，这 8 秒的时间主要是在哪一步节省下来的？是网络传输、数据处理还是 Canvas 渲染？
*   **候选人可能回答**：数据聚合、懒加载、减少 DOM 操作。
*   **追问（深度）**：
    1.  简历提到“级联选择器数据量大”，你是用了虚拟列表（Virtual Scroll）还是其他方案？
    2.  对于 ECharts 渲染上千个仓库导致的卡顿，你开启了 `large` 模式吗？还是使用了 `dataZoom` 进行采样？
    3.  如果是小程序端，Canvas 上下文的获取和 Web 端有何不同？遇到过真机内存溢出（OOM）的问题吗？

**Q3. CAS 单点登录**
*   **提问**：你主导了 CAS 单点登录的接入。请简述一下前端在 SSO 流程中主要负责什么？Ticket 是如何流转的？
*   **追问**：如果 Token 过期了，前端是如何做到无感刷新（Silent Refresh）或者自动跳转登录页的？

---

#### 项目三：上海望海 - GIS 与数字孪生平台
**关键词**：Cesium 3D、海康监控集成

**Q1. Cesium 3D 开发**
*   **提问**：在使用 Cesium 加载 3D 模型或大规模 GIS 数据时，有没有遇到过掉帧或卡顿的问题？你是如何进行性能优化的？
*   **候选人可能回答**：使用了 3D Tiles，或者控制显隐距离。
*   **追问（深度）**：
    1.  Cesium 的实体（Entity）和图元（Primitive）在使用场景上有什么区别？（考察对 Cesium 底层渲染机制的理解，Primitive 性能更高）。
    2.  如何处理大规模点位（如数万个点）的聚合渲染？

**Q2. 视频流集成**
*   **提问**：项目中提到集成了海康监控和雷达数据。海康的视频流通常是 RTSP 格式，Web 端无法直接播放，你是怎么处理转码和播放的？
*   **候选人可能回答**：后端转码成 FLV/HLS，前端用 flv.js 或 hls.js。
*   **追问**：视频流会有延迟问题，你们的延迟控制在多少？有没有做过追帧处理？

---

### 第二部分：基础与原理（穿插在项目提问中）

**Q1. Vue2 与 Vue3 的迁移**
*   **背景**：候选人经历涵盖了 Vue2 和 Vue3。
*   **提问**：你最近的项目用了 Vue3 + TS。相比 Vue2，Vue3 的响应式原理从 `Object.defineProperty` 换成了 `Proxy`，这带来了哪些具体的优势？
*   **追问**：在 Vue3 中使用 `Composition API` 时，如何复用逻辑？对比 Vue2 的 Mixin 有什么好处？

**Q2. 前端安全**
*   **背景**：候选人在安全公司工作。
*   **提问**：简历提到熟悉 XSS/CSRF。如果你正在开发一个富文本编辑器功能，你会如何防御存储型 XSS 攻击？
*   **追问**：除了 CSP（内容安全策略），在前端代码层面通常会引入哪些库来做 HTML Sanitization（清洗）？

**Q3. 混合开发（Hybrid App）**
*   **背景**：早期在上海信行做过 WebView 优化。
*   **提问**：你提到封装了 JSBridge 统一通信。请问 JS 调用 Native 和 Native 调用 JS 的底层原理分别是什么？（拦截 URL Schema / 注入全局对象）。

---

### 第三部分：综合素质与软技能

**Q1. 架构设计**
*   **提问**：我看你在韵达和观安都负责过前端架构设计。在搭建一个新项目时，除了技术栈选型，你通常还会配置哪些工程化标准？（期待回答：ESLint/Prettier、Git Hooks、CI/CD 流程、Mock 方案、公共组件库文档等）。

**Q2. 学习能力**
*   **提问**：你提到自学了 NestJS 和 Python。在实际工作中，这些后端知识如何辅助了你的前端开发？有没有具体的案例？（例如：自己写 BFF 层接口，或者写 Python 脚本处理数据）。

---

### 面试官提示（简历疑点/注意事项）
1.  **时间线确认**：第一份工作（上海观安）的时间写的是 `2024.1 - 2025.10`。现在是 2024/2025 年交接之际（或者是2025年），如果是 **2025.10**，这可能是笔误（想写至今？）或者合同结束时间。建议开场闲聊时确认一下目前是否在职。
2.  **全栈深度**：候选人提到精通很多东西（Vue、React、Python、Cesium、Docker）。全栈往往意味着“博而不精”，建议通过上面的深度追问（尤其是原理层面）来测试他的知识边界。
3.  **产出量化**：简历中多次出现具体数字（效率提升80%，30%，10s变2s）。重点考察这些数字是怎么算出来的，是感性预估还是有监控数据支持。