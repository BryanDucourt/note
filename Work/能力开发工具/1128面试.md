这是一份针对候选人**王景轩**（7年经验，C++/Go转型，网络/安全/航空背景）的定制化面试题清单。

### 候选人画像分析
*   **核心竞争力**：**底层网络协议功底深厚**（TCP/UDP, SNMP, ARP, LLDP），有**C919航空级高可靠性项目**经验，且成功转型 **Go + 云原生**方向。
*   **技术栈特点**：是一个“硬核”后端，擅长处理设备通信、网络扫描、资产探测等**IoT/基础设施**类业务，而非纯粹的 Web 增删改查。
*   **职业履历**：
    *   2021-2024（3年）在奇安信（头部安全大厂），稳定性不错。
    *   2025.07 至今在柯信（现职），入职时间较短，且上一份工作结束于 2024.12，**中间有半年空窗期**（2025.1-2025.6），需要关注。

---

### 第一部分：项目深度拷问（重点考察网络与架构）

#### 项目一：Flyer 企业宣传屏管理系统（2025.07 - 至今）
**关键词**：SaaS、IoT设备管理、OTA、Kitex（技能栏提到）

**Q1. SaaS 多租户架构设计**
*   **提问**：这是一个 SaaS 平台，请问你们的**多租户数据隔离**方案是怎样的？（Database 隔离、Schema 隔离 还是 共享表字段隔离？）
*   **追问**：简历提到“字段级租户ID过滤”，这种共享表的模式在数据量大时，如何解决 SQL 查询性能问题？有没有做分库分表？

**Q2. 设备全生命周期与 OTA**
*   **提问**：简历提到负责“固件 OTA 升级”。请详细描述一下从后台下发指令到设备升级完成的完整交互流程。
*   **追问（深度）**：
    1.  **断点续传**：如果设备下载固件到 50% 网络断了，怎么处理？
    2.  **安全性**：如何防止固件包被篡改？（签名校验机制）。
    3.  **灰度发布**：如果有 1 万台设备，如何控制升级节奏，避免瞬间带宽打满导致服务雪崩？

**Q3. 实时通信机制**
*   **提问**：服务端如何向屏显设备下发指令？是采用 MQTT、WebSocket 长连接，还是设备轮询？
*   **追问**：如果是长连接，Go 服务端在维护海量设备连接（如 10w+）时，内存和 Goroutine 是如何管理的？

---

#### 项目二：IoT 网络安全准入系统（2022.03 - 2023.12，奇安信）
**关键词**：网络扫描、SNMP、Nmap、高并发、资产识别

**Q1. 高并发网络扫描策略**
*   **提问**：简历提到“应用高并发对在线 IP 进行 Nmap 扫描”。Nmap 本身是耗资源的，通过 Go 调用 Nmap 时，是如何控制并发度的？
*   **候选人可能回答**：使用协程池或信号量。
*   **追问（深度）**：
    1.  **网络拥塞**：如果并发扫描导致局域网带宽占满或丢包严重，你的程序如何感知并进行“动态调整扫描”（简历提及的难点1）？
    2.  **扫描死锁**：如果某个 IP 响应极慢，导致 Goroutine 积压，如何设计超时和熔断机制？

**Q2. 资产识别算法（90% -> 99%）**
*   **提问**：这是一个非常具体的量化成果。请问你是通过什么具体手段将识别率提升了 9%？
*   **候选人可能回答**：增加了指纹库、优化了匹配逻辑。
*   **追问**：
    1.  **指纹冲突**：如果通过 MAC 地址识别是“苹果设备”，但通过 HTTP Banner 识别是“Windows IIS 服务”，这种冲突如何通过权重算法解决？
    2.  **被动流量**：简历提到结合了“被动流量信息”，具体是通过什么方式获取流量的？（镜像端口抓包? eBPF? 还是 NetFlow?）

**Q3. 交换机拓扑发现（LLDP/SNMP）**
*   **提问**：你通过 SNMP 和 LLDP 获取交换机数据。请问如何根据这些数据构建出完整的网络拓扑图（即谁连着谁）？
*   **追问**：在异构网络中（不同厂商 Cisco/Huawei），SNMP 的 OID 往往不同，你们的适配层（Adapter）是如何设计的？

---

#### 项目三：C919 飞机机载娱乐系统（2020.02 - 2021.08）
**关键词**：UDP、RTP、音视频同步、C++

**Q1. UDP 可靠性传输**
*   **提问**：在机载娱乐系统中，你使用 UDP 进行音视频推流。UDP 是不可靠的，你是如何解决丢包和乱序问题的？（考察 RTP 协议头的设计或 FEC 前向纠错）。
*   **追问**：简历提到“菊花链环网管理”，如果环网中某个节点断开了，你的软件如何快速感知并重新计算拓扑？（RSTP 协议原理）。

**Q2. 音视频同步**
*   **提问**：攻克难点中提到“解决客舱不同设备间音视频同步”。这是分布式系统的经典难题，你是怎么做的？
*   **候选人可能回答**：NTP 时间同步，或者基于播放帧号。
*   **追问**：如果是基于 NTP，机舱局域网的时间同步精度能达到多少？客户端是如何根据时间戳调整播放速度（快进/慢放）来追齐进度的？

---

### 第二部分：语言与基础（C++ 转 Go）

**Q1. Go vs C++ 内存管理**
*   **提问**：你有多年的 C++ 经验，现在主要用 Go。请对比一下 C++ 的手动内存管理和 Go 的 GC（垃圾回收）。
*   **追问**：在像“网络扫描”这样产生大量临时对象的场景下，Go 的 GC 会带来 STW（卡顿）问题吗？你在代码层面做过哪些优化来减轻 GC 压力？（例如：`sync.Pool` 复用对象）。

**Q2. 网络编程细节**
*   **提问**：Go 的 `net/http` 或 `net/tcp` 底层使用的是什么 IO 模型？（Epoll/IO多路复用）。
*   **追问**：这与 C++ 中常用的 Reactor 模型（如 libevent/Qt 信号槽）在处理连接上有什么异同？

**Q3. 数据库与中间件**
*   **提问**：在奇安信的项目中，资产数据存 MySQL，实时流用 NSQ。为什么选择 NSQ 而不是 Kafka？（NSQ 更轻量，但消息不持久化、无序）。
*   **追问**：如果 NSQ 节点宕机，内存中的消息丢失了，你们的资产识别业务允许数据丢失吗？如果不允许，是怎么补偿的？

---

### 第三部分：综合素质与 HR 问题

**Q1. 空窗期核实（关键）**
*   **提问**：我看你上一份工作（奇安信）结束于 2024 年 12 月，现在的公司是 2025 年 7 月入职。这中间半年的时间主要在做什么？（考察：是否主动学习、家庭原因、还是求职困难）。

**Q2. 行业跨度适应性**
*   **提问**：从“航空制造”到“网络安全”再到现在的“SaaS 商业软件”，你的跨度非常大。你觉得这三个领域对**软件质量**的要求有什么不同？你更喜欢哪种开发模式？

---

### 面试官参考评分维度

| 维度 | 考察重点 | 建议评分标准 |
| :--- | :--- | :--- |
| **网络协议深度** | SNMP/LLDP/TCP/UDP 的细节 | 🌟🌟🌟🌟🌟 (核心加分项) |
| **Go 语言掌握** | 并不是仅仅会用 Gin，而是懂 GMP/GC/并发 | 🌟🌟🌟🌟 |
| **IoT/设备业务** | OTA、心跳、指纹识别算法 | 🌟🌟🌟🌟 |
| **SaaS 架构** | 多租户、微服务拆分 | 🌟🌟🌟 (SaaS 经验相对较短) |
| **稳定性** | 离职原因及空窗期解释 | ⚠️ (需重点确认) |

**总结**：
这是一位**技术底座非常扎实**的候选人，特别适合**IoT、边缘计算、私有云部署、网络管理**类的岗位。
面试中，不用花太多时间问 Web 常见的 CRUD，而应该**多问协议、多问并发控制、多问设备交互**，这才是他的强项。如果您的团队目前急需解决设备连接不稳定、网络协议解析复杂等问题，他是非常合适的人选。