# 1 赵梓豪
### 第一部分：SID-智能心电诊断小程序 (2024.04 ~ 2024.10)
**考察点：** 蓝牙通信、二进制数据处理、Canvas 性能优化、复杂业务逻辑。

#### 1. 关于蓝牙连接与数据解析
**背景：** 简历提到“解析蓝牙数据流，实现三导联心电信号实时转换”及“断线重连”。
*   **提问：** 你在处理蓝牙 BLE 通信时，是如何定义前后端（小程序与硬件）的数据传输协议的？在解析蓝牙接收到的 ArrayBuffer 二进制流时，具体是如何提取三导联数据的？
*   **追问：**
    *   如果在数据传输过程中出现“粘包”或“丢包”现象，你在代码层面是如何处理的？
    *   关于“指数退避”的重连策略，能手写一下简单的逻辑伪代码吗？为什么选择指数退避而不是固定时间间隔重连？

#### 2. 关于 Canvas 实时心电图绘制
**背景：** 简历提到“自主封装 Canvas Hooks”和“实时心电图”。
*   **提问：** 心电图需要高频刷新（通常 250Hz+ 的采样率），在小程序 Canvas 环境下，你是如何保证渲染流畅度并避免卡顿的？
*   **追问：**
    *   你的绘制逻辑是基于 requestAnimationFrame 还是 setInterval？
    *   随着时间推移，心电图数据量会越来越大，你是如何管理 Canvas 的绘制区域的？是清空重绘还是使用离屏 Canvas (Offscreen Canvas) 进行优化？
    *   这里的“封装 Canvas Hooks”具体封装了哪些逻辑？是为了复用还是为了解耦？

#### 3. 关于数据压缩算法
**背景：** 简历提到“差分编码+变长压缩技术，空间减少 50%”。
*   **提问：** 请具体解释一下你实现的“差分编码”逻辑。为什么针对 ECG 数据选择这种算法而不是通用的压缩算法（如 Gzip）？
*   **追问：**
    *   变长压缩（Variable-length quantity）在这里是如何配合差分数据的？
    *   这种压缩是在 JS 线程中直接计算的吗？有没有考虑到对 CPU 的占用，是否使用了 Worker 线程？

#### 4. 关于大文件分片上传
**背景：** 简历提到“200MB+ 大文件”、“断点续传”。
*   **提问：** 在小程序环境下实现分片上传，你是如何计算文件的 Hash 值来实现秒传或验证的？（小程序读取大文件可能会导致内存溢出）。
*   **追问：**
    *   如果上传过程中网络切换（如 Wifi 切 4G）导致上传中断，你的“断点续传”机制是如何恢复上传的？
    *   分片是串行上传还是并发上传？如果是并发，如何控制并发数？

---

### 第二部分：SID-后台管理系统 (2024.11 ~ 2025.04)
**考察点：** Vue3 性能优化、权限架构设计、工程化。

#### 1. 关于表格性能优化
**背景：** 简历提到“异步表格数据加载优化，首屏速度提升 80%”。
*   **提问：** 针对 `el-table` 大量图片加载阻塞的问题，你提到的“并发控制”和“异步渲染”具体是如何落地的？
*   **追问：**
    *   你是通过虚拟滚动（Virtual Scrolling）解决 DOM 过多的问题，还是仅仅针对图片请求做了队列控制？
    *   如果用户快速滑动表格，对于那些已经划出屏幕但请求还在 pending 的图片，你做了什么处理（如取消请求）？

#### 2. 关于双 Token 无感刷新
**背景：** 简历提到“双 token 无感刷新机制”。
*   **提问：** 请描述一下 Access Token 和 Refresh Token 的交互流程。当 Access Token 过期时，前端是如何拦截请求并静默刷新的？
*   **追问：**
    *   如果页面同时发出了 10 个并发请求，此时 Token 刚好过期，如何确保只发送一次 Refresh Token 请求，并在刷新成功后重试这 10 个请求？（考察 Promise 队列处理）。

#### 3. 关于 RBAC 权限体系
**背景：** 简历提到“三层权限体系”、“动态菜单”、“数据权限隔离”。
*   **提问：** 你的动态路由（Dynamic Routing）是在哪个生命周期阶段生成的？addRoute 之后遇到刷新页面白屏的问题是如何解决的？
*   **追问：**
    *   关于“按钮级”的细粒度权限，你是通过自定义指令（Directive）实现的还是通过全局函数？有什么优缺点？
    *   “数据权限隔离”在前端层面是如何体现的？还是说这主要依赖后端过滤？

---

### 第三部分：物业报修小程序 (2023.03 ~ 2024.01)
**考察点：** Node.js 服务端、FFmpeg 应用、全栈思维。
*注意：简历中该项目结束时间写成了 2034.01，大概率是笔误，面试时可侧面确认一下，但不作为攻击点。*

#### 1. 关于 Node.js 与 FFmpeg 水印
**背景：** 简历提到“child_process.spawn 调用 ffmpeg”、“CPU 密集任务隔离”。
*   **提问：** 在 NestJS 中调用 FFmpeg 这种外部进程，你是如何管理子进程的生命周期的？
*   **追问：**
    *   如果 FFmpeg 处理大视频导致进程挂起或内存飙升，你的系统如何监控并熔断？
    *   为什么选择 `spawn` 而不是 `exec`？流式处理在你的代码中是如何体现的？

#### 2. 关于小程序分包策略
**背景：** 简历提到“按角色分包”、“首屏提升 20%”。
*   **提问：** 小程序的分包通常是按页面路径划分的。你提到的“按角色分包”是如何实现的？（是因为不同角色进入不同的 TabBar 页面吗？）
*   **追问：**
    *   分包后，主包（Main Package）体积你是如何控制的？如何避免公共依赖（如第三方库）被重复打包进各个分包？

#### 3. 关于前端媒体压缩
**背景：** 简历提到“前端压缩图片/视频”。
*   **提问：** 在 Uni-app 中，你是利用 Canvas API 进行图片压缩，还是使用了特定的 API？
*   **追问：**
    *   对于视频压缩，纯前端（小程序端）其实很难做到高效压缩，你是如何实现的？（通常需要云端处理，或者确认候选人是否混淆了概念）。

---

### 第四部分：综合与基础 (通用考察)

*   **TypeScript：** 你的简历中所有项目都使用了 TypeScript。请问在 Vue3 中，你是如何定义 `props` 的类型以确保父子组件传参的类型安全的？有没有用过 TypeScript 的高级类型（如 `Pick`, `Omit`, `Generic`）来优化接口定义？
*   **工程化 (Vite Plugin)：** 简历提到具备“Vite 自定义 Plugin 开发能力”。请举一个你实际编写过的 Plugin 案例，它解决了什么构建问题？
*   **项目周期：** 我注意到“SID-智能心电诊断小程序”和“SID-后台管理系统”的时间有重叠，且后台系统的结束时间（2025.04）和你的在职结束时间（2025.08）在未来（*注：假设当前时间早于此，或者询问为何离职日期写在未来*）。请问你在公司是同时负责两个项目吗？如何分配精力的？
