# 使用ftrace监控自定义tracepoint
相关资料：https://www.kernel.org/doc/Documentation/trace/
1. 通过`objdump`查找需要监控的函数地址
2. 将自定义的tracepoint写入uprobe_events中
3. 可以与kprobe一同使用，需要分别enable自定义的uprobe和ftrace提供的probes
4. tracepoint高频触发时，需要调整/sys/kernel/debug/tracing/buffer_size_kb的值以保证足够的缓冲区大小
附件：probes.sh
# 在程序中任意位置插入侵入式probe
若需要对函数执行过程进行更精细的监控，可以在需要监控的位置插入一个很短的函数调用如
```c
int dummy(int len){
return len;
}
```
在指定位置调用该函数，而后使用ftrace监控即可。
需要注意的点：
1. `dummy`函数声明必须在需要监控的函数声明之前，若